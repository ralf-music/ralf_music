<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Now-Playing – Test</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* dezente Hover-Optik, ähnlich deiner Karten */
    .card { position:relative; border:1px solid #ea580c; border-radius:1rem; overflow:hidden;
            background:rgba(23,23,23,.7); transition:box-shadow .2s ease, transform .2s ease; }
    .card:hover { box-shadow:0 0 18px rgba(234,88,12,.35); transform:translateY(-2px); }
    .card img { width:100%; height:100%; object-fit:cover; }

    /* Variante A: nur Rahmen + sanfter puls-Glow */
    .nowA { box-shadow:
              0 0 10px rgba(234,88,12,.35),
              0 0 24px rgba(234,88,12,.25) !important; }
    .nowA::after {
      content:""; position:absolute; inset:0; pointer-events:none; border-radius:1rem;
      box-shadow:0 0 0 2px #ea580c inset; /* dünner, klarer Rahmen */
    }

    /* Variante B: kleines Badge oben rechts */
    .nowB::before {
      content:"Now Playing";
      position:absolute; top:.5rem; right:.5rem; z-index:2;
      font-size:.65rem; line-height:1; padding:.25rem .45rem; border-radius:9999px;
      background:rgba(0,0,0,.65); color:#f5f5f5; border:1px solid #ea580c;
    }
    .nowB-dot {
      position:absolute; top:.5rem; right:.5rem; transform:translate(50%,-50%);
      width:.6rem; height:.6rem; border-radius:9999px; background:#ea580c;
      box-shadow:0 0 12px rgba(234,88,12,.6);
      animation:pulse 1.6s ease-in-out infinite;
    }
    @keyframes pulse {
      0%,100% { transform:translate(50%,-50%) scale(1); opacity:.9; }
      50%     { transform:translate(50%,-50%) scale(1.25); opacity:.6; }
    }

    /* kleine Demo-Badges für Kategorie */
    .kbadge { font-size:.7rem; color:#e5e5e5; }
  </style>
</head>
<body class="min-h-screen bg-neutral-950 text-neutral-100">
  <div class="max-w-6xl mx-auto px-4 py-6">
    <h1 class="text-2xl font-bold mb-2">Now-Playing Visual Test</h1>
    <p class="text-neutral-400 mb-4">Klick auf eine Karte setzt „Now Playing“. Oben die Variante wählen.</p>

    <!-- Varianten-Schalter -->
    <div class="flex items-center gap-2 mb-6">
      <span class="text-sm text-neutral-300">Variante:</span>
      <button id="btnA" class="px-3 py-1.5 rounded-full border border-orange-600 bg-orange-600 text-white text-sm">A: Rahmen</button>
      <button id="btnB" class="px-3 py-1.5 rounded-full border border-orange-600 bg-neutral-900 text-neutral-200 text-sm hover:border-orange-500">B: Badge</button>
      <span id="hint" class="text-xs text-neutral-400 ml-2">(aktiv: A)</span>
    </div>

    <!-- Demo-Grid -->
    <div id="grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
      <!-- Karten werden via JS gebaut -->
    </div>
  </div>

  <script>
    // Demo-Daten (statisch)
    const demoSongs = [
      {id:'beyond_the_silence', title:'Beyond the Silence', artist:'R.A.L.F.', cover:'https://cdn2.suno.ai/41408c24-5290-44a4-969a-4a0f5aa1cc4c.jpeg', cat:'Trance / Techno'},
      {id:'zwischen_den_zeilen', title:'Zwischen Den Zeilen', artist:'R.A.L.F.', cover:'https://cdn2.suno.ai/04df5287-fcc1-4e1f-b985-03ff9f8ef357.jpeg', cat:'Deutsch Rap'},
      {id:'edge_of_tomorrow', title:'Edge Of Tomorrow', artist:'R.A.L.F.', cover:'https://cdn2.suno.ai/93328fd6-817e-4724-98e0-7055518b8b0c.jpeg', cat:'Trance / Techno'},
      {id:'glasherz', title:'Glasherz', artist:'R.A.L.F.', cover:'https://cdn2.suno.ai/8ee37d92-27c2-496b-85aa-776270293755.jpeg', cat:'Deutsch Rap'},
      {id:'no_gravity', title:'No Gravity', artist:'R.A.L.F.', cover:'https://cdn2.suno.ai/2b6fcda8-4561-4482-b25e-74c98edd420f.jpeg', cat:'Trance / Techno'},
      {id:'within_the_flow', title:'Within The Flow', artist:'R.A.L.F.', cover:'https://cdn2.suno.ai/4f1308c1-ad22-4213-910e-fa424161f808.jpeg', cat:'Trance / Techno'}
    ];

    let activeId = null;
    let variant = 'A'; // 'A' oder 'B'

    function render() {
      const grid = document.getElementById('grid');
      grid.innerHTML = '';
      demoSongs.forEach(s => {
        const wrap = document.createElement('div');
        wrap.className = 'card group';
        wrap.innerHTML = `
          <div class="aspect-[3/4] relative">
            <img src="${s.cover}" alt="${s.title}">
            ${variant==='B' && activeId===s.id ? '<div class="nowB-dot"></div>' : ''}
          </div>
          <div class="p-4">
            <div class="kbadge mb-1 text-neutral-300">${s.cat}</div>
            <h3 class="font-semibold leading-tight">${s.title}</h3>
            <div class="text-sm text-neutral-400">${s.artist}</div>
            <div class="mt-3 flex justify-end">
              <button class="play bg-orange-600 text-white text-sm font-semibold rounded-full px-3 py-1.5 hover:bg-orange-500">▶ Abspielen</button>
            </div>
          </div>
        `;
        const play = wrap.querySelector('.play');
        play.onclick = () => { activeId = s.id; updateNowPlayingClasses(); };
        grid.appendChild(wrap);
      });
      updateNowPlayingClasses();
    }

    function updateNowPlayingClasses() {
      const cards = document.querySelectorAll('#grid .card');
      cards.forEach((card, idx) => {
        const id = demoSongs[idx].id;
        card.classList.remove('nowA', 'nowB');
        if (activeId === id) card.classList.add(variant === 'A' ? 'nowA' : 'nowB');
        // Badge-Dot wird beim Render je nach Variante eingesetzt, deshalb neu rendern wenn Variante wechselt:
      });
    }

    document.getElementById('btnA').onclick = () => {
      variant = 'A';
      document.getElementById('btnA').className = 'px-3 py-1.5 rounded-full border border-orange-600 bg-orange-600 text-white text-sm';
      document.getElementById('btnB').className = 'px-3 py-1.5 rounded-full border border-orange-600 bg-neutral-900 text-neutral-200 text-sm hover:border-orange-500';
      document.getElementById('hint').textContent = '(aktiv: A)';
      render();
    };
    document.getElementById('btnB').onclick = () => {
      variant = 'B';
      document.getElementById('btnB').className = 'px-3 py-1.5 rounded-full border border-orange-600 bg-orange-600 text-white text-sm';
      document.getElementById('btnA').className = 'px-3 py-1.5 rounded-full border border-orange-600 bg-neutral-900 text-neutral-200 text-sm hover:border-orange-500';
      document.getElementById('hint').textContent = '(aktiv: B)';
      render();
    };

    render();
  </script>
</body>
</html>
